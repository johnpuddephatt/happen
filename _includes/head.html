<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="{{ "/styles.css" | prepend: site.baseurl }}">
    <link rel="canonical" href="{{ page.url | replace:'index.html','' | prepend: site.baseurl | prepend: site.url }}">
    <link rel="alternate" type="application/rss+xml" title="{{ site.title }}" href="{{ "/feed.xml" | prepend: site.baseurl | prepend: site.url }}" />
    <!-- favicons -->
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/manifest.json">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#c00f6a">
    <meta name="apple-mobile-web-app-title" content="Happen Digital">
    <meta name="application-name" content="Happen Digital">
    <meta name="theme-color" content="#c00f6a">

    <script type="text/javascript">
    //Check if facebook_refresh query string is present
    if(window.location.search.indexOf("facebook_refresh") >= 0)
    {
        //Feature check browsers for support
        if(document.addEventListener && window.XMLHttpRequest && document.querySelector)
        {
            //DOM is ready
            document.addEventListener("DOMContentLoaded", function() {
                var httpRequest = new XMLHttpRequest();
                httpRequest.open("POST", "https://graph.facebook.com", true);

                httpRequest.onreadystatechange = function () {
                    if (httpRequest.readyState == 4) { console.log("httpRequest.responseText", httpRequest.responseText); }
                };

                //Default URL to send to Facebook
                var url = window.location;

                //og:url element
                var og_url = document.querySelector("meta[property='og:url']");

                //Check if og:url element is present on page
                if(og_url != null)
                {
                    //Get the content attribute value of og:url
                    var og_url_value = og_url.getAttribute("content");

                    //If og:url content attribute isn't empty
                    if(og_url_value != "")
                    {
                        url = og_url_value;
                    } else {
                        console.warn('<meta property="og:url" content=""> is empty. Falling back to window.location');
                    }
                } else {
                    console.warn('<meta property="og:url" content=""> is missing. Falling back to window.location');
                }

                //Send AJAX
                httpRequest.send("scrape=true&id=" + encodeURIComponent(url));

            });
        } else {
            console.warn("Your browser doesn't support one of the following: document.addEventListener && window.XMLHttpRequest && document.querySelector");
        }
    }
    </script>
</head>